{"uid":"86455744cede4d83","name":"TC059-Тест запроса несуществующего/невалидного id: ","fullName":"test_get_ad_for_id.TestGetAdById#test_create_ad_with_invalid_static_field","historyId":"52ce36ce61406c422a71f66e96ab20c2","time":{"start":1767035921485,"stop":1767035921795,"duration":310},"status":"failed","statusMessage":"AssertionError: assert 'result' in {'code': 400, 'message': 'route /api/1/item/ not found'}","statusTrace":"self = <test_get_ad_for_id.TestGetAdById object at 0x000001B883899490>\nafter_create_ad_delete = (<Response [200]>, 927771, '559fbbbc-ffc8-4de8-b7de-d6122a2133ea', {'status': 'Сохранили объявление - 559fbbbc-ffc8-4de8-b7de-d6122a2133ea'})\ninvalid_id = '', id_test_case = 'TC059'\n\n    @pytest.mark.parametrize(\"invalid_id, id_test_case\", InvalidField.invalid_get_ad_by_id)\n    @allure.title(\"{id_test_case}-Тест запроса несуществующего/невалидного id: {invalid_id}\")\n    def test_create_ad_with_invalid_static_field(self, after_create_ad_delete, invalid_id, id_test_case):\n        response = get_ad_by_id(invalid_id)\n        with allure.step(f\"Проверить возможность получения обьявления при невалидном id: {invalid_id}\"):\n            assert response.status_code == 400 or response.status_code == 404\n            if response.status_code == 400:\n                response_data = response.json()\n                assert \"result\" in response_data\n                res = response_data[\"result\"]\n                assert \"messages\" in res\n                assert \"message\" in res\n                assert \"status\" in response_data\n            elif response.status_code == 404:\n                response_data = response.json()\n>               assert \"result\" in response_data\nE               AssertionError: assert 'result' in {'code': 400, 'message': 'route /api/1/item/ not found'}\n\ntest_get_ad_for_id.py:40: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1767035898217,"stop":1767035898218,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"data_for_create_ad","time":{"start":1767035921136,"stop":1767035921136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"after_create_ad_delete","time":{"start":1767035921136,"stop":1767035921484,"duration":348},"status":"passed","steps":[{"name":"Создание обьявления","time":{"start":1767035921137,"stop":1767035921484,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"data_ad","value":"{'sellerID': 927771, 'name': 'Ауди', 'price': 2153321, 'statistics': {'likes': 365, 'viewCount': 1732, 'contacts': 79}}"}],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 'result' in {'code': 400, 'message': 'route /api/1/item/ not found'}","statusTrace":"self = <test_get_ad_for_id.TestGetAdById object at 0x000001B883899490>\nafter_create_ad_delete = (<Response [200]>, 927771, '559fbbbc-ffc8-4de8-b7de-d6122a2133ea', {'status': 'Сохранили объявление - 559fbbbc-ffc8-4de8-b7de-d6122a2133ea'})\ninvalid_id = '', id_test_case = 'TC059'\n\n    @pytest.mark.parametrize(\"invalid_id, id_test_case\", InvalidField.invalid_get_ad_by_id)\n    @allure.title(\"{id_test_case}-Тест запроса несуществующего/невалидного id: {invalid_id}\")\n    def test_create_ad_with_invalid_static_field(self, after_create_ad_delete, invalid_id, id_test_case):\n        response = get_ad_by_id(invalid_id)\n        with allure.step(f\"Проверить возможность получения обьявления при невалидном id: {invalid_id}\"):\n            assert response.status_code == 400 or response.status_code == 404\n            if response.status_code == 400:\n                response_data = response.json()\n                assert \"result\" in response_data\n                res = response_data[\"result\"]\n                assert \"messages\" in res\n                assert \"message\" in res\n                assert \"status\" in response_data\n            elif response.status_code == 404:\n                response_data = response.json()\n>               assert \"result\" in response_data\nE               AssertionError: assert 'result' in {'code': 400, 'message': 'route /api/1/item/ not found'}\n\ntest_get_ad_for_id.py:40: AssertionError","steps":[{"name":"Получить объявление по id","time":{"start":1767035921486,"stop":1767035921794,"duration":308},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ad_id","value":"''"}],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"Проверить возможность получения обьявления при невалидном id: ","time":{"start":1767035921794,"stop":1767035921794,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 'result' in {'code': 400, 'message': 'route /api/1/item/ not found'}\n","statusTrace":"  File \"C:\\Users\\Slipenberg\\Desktop\\Avito\\test_get_ad_for_id.py\", line 40, in test_create_ad_with_invalid_static_field\n    assert \"result\" in response_data\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[{"name":"after_create_ad_delete::0","time":{"start":1767035921800,"stop":1767035922104,"duration":304},"status":"passed","steps":[{"name":"Удалить объявление по id","time":{"start":1767035921800,"stop":1767035922103,"duration":303},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"del_id","value":"'559fbbbc-ffc8-4de8-b7de-d6122a2133ea'"}],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"suite","value":"test_get_ad_for_id"},{"name":"subSuite","value":"TestGetAdById"},{"name":"host","value":"DESKTOP-GVQL230"},{"name":"thread","value":"13132-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_get_ad_for_id"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"id_test_case","value":"'TC059'"},{"name":"invalid_id","value":"''"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"86455744cede4d83.json","parameterValues":["'TC059'","''"]}